<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta de Amor Interactiva</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #1a0a2e, #2c0a3a, #4a0a5a);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            overflow: auto;
            position: relative;
            color: #fff;
            padding: 20px;
            font-family: 'Playfair Display', serif;
            overflow-x: hidden;
        }
        
        /* Fondo especial */
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .star {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: twinkle var(--duration) ease-in-out infinite;
        }
        
        .floating-heart {
            position: absolute;
            font-size: 24px;
            color: rgba(255, 182, 193, 0.8);
            animation: float var(--float-duration) ease-in-out infinite;
            z-index: -1;
        }
        
        .light-effect {
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 70%);
            pointer-events: none;
            z-index: -1;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            text-align: center;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 40px 0;
        }
        
        header {
            margin-bottom: 30px;
            animation: fadeIn 2s ease;
            width: 100%;
        }
        
        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            color: #ffd1dc;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #ffd1dc;
            max-width: 500px;
            margin: 0 auto;
            font-style: italic;
        }
        
        .envelope-container {
            position: relative;
            width: 300px;
            height: 200px;
            margin: 0 auto 40px;
            cursor: pointer;
            perspective: 1000px;
            z-index: 2;
            transition: all 1s ease;
        }
        
        .envelope {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .envelope-front, .envelope-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }
        
        .envelope-front {
            background: #e74c3c;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(231, 76, 60, 0.4);
            z-index: 2;
        }
        
        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #c0392b;
            border-radius: 8px 8px 0 0;
            clip-path: polygon(0 0, 100% 0, 50% 50%);
            transform-origin: top;
            transition: transform 0.8s ease;
        }
        
        .envelope-back {
            background: #f1c40f;
            border-radius: 8px;
            transform: rotateX(180deg);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(241, 196, 15, 0.4);
            display: none;
        }
        
        .heart {
            font-size: 5.5rem;
            color: white;
            animation: pulse 1.8s infinite;
        }
        
        .letter-container {
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
            position: relative;
            display: none;
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s ease;
        }
        
        .letter {
            background: linear-gradient(to bottom, #fff0f5 0%, #ffe4e9 100%);
            border: 2px solid #ffb6c1;
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 182, 193, 0.4);
            position: relative;
            font-size: 1.15rem;
            line-height: 1.7;
            text-align: left;
            color: #8a4b76;
            z-index: 5;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .letter::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(to right, #ff9eb5, #ff6b8b, #ff9eb5);
            border-radius: 20px 20px 0 0;
        }
        
        .letter::after {
            content: "";
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 8px;
            background: rgba(255, 158, 181, 0.3);
            border-radius: 0 0 8px 8px;
        }
        
        .letter-header {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            text-align: center;
            margin-bottom: 30px;
            color: #ff6b8b;
            position: relative;
            text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.1);
        }
        
        .letter-header::after {
            content: "";
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 3px;
            background: linear-gradient(to right, #ffb6c1, #ff6b8b, #ffb6c1);
            border-radius: 3px;
        }
        
        .letter-header::before {
            content: "❤";
            position: absolute;
            left: -40px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            color: #ff6b8b;
        }
        
        .letter-header::after {
            content: "❤";
            position: absolute;
            right: -40px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            color: #ff6b8b;
        }
        
        .reasons-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }
        
        .reason {
            background: rgba(255, 182, 193, 0.2);
            padding: 18px 20px;
            border-radius: 15px;
            border-left: 5px solid #ff6b8b;
            transition: all 0.4s ease;
            position: relative;
            box-shadow: 0 4px 15px rgba(255, 182, 193, 0.3);
            backdrop-filter: blur(5px);
        }
        
        .reason:hover {
            transform: translateY(-5px) translateX(5px);
            background: rgba(255, 182, 193, 0.3);
            box-shadow: 0 8px 25px rgba(255, 182, 193, 0.4);
        }
        
        .reason-number {
            font-weight: bold;
            color: #ff6b8b;
            margin-right: 8px;
            font-size: 1.2rem;
            position: relative;
            display: inline-block;
        }
        
        .reason-number::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, #ff6b8b, transparent);
        }
        
        .letter-signature {
            font-family: 'Dancing Script', cursive;
            font-size: 2.8rem;
            text-align: right;
            color: #ff6b8b;
            margin-top: 40px;
            position: relative;
            padding-right: 40px;
        }
        
        .letter-signature::before {
            content: "";
            position: absolute;
            top: 50%;
            right: 0;
            width: 30px;
            height: 2px;
            background: #ff6b8b;
        }
        
        .hearts-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            overflow: hidden;
        }
        
        .heart-fall {
            position: absolute;
            top: -50px;
            color: rgba(255, 105, 180, 0.8);
            font-size: 28px;
            animation: fall linear forwards;
        }
        
        .message {
            font-style: italic;
            text-align: center;
            margin-top: 30px;
            color: #ffd1dc;
            font-size: 1.2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease 0.5s;
        }
        
        footer {
            margin-top: 40px;
            color: #ffd1dc;
            font-size: 1rem;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
        }
        
        /* Contador de tiempo juntos - ESTILOS MEJORADOS */
        .countdown {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }
        
        .countdown-box {
            background: linear-gradient(145deg, rgba(255, 182, 193, 0.3), rgba(255, 182, 193, 0.2));
            border-radius: 15px;
            padding: 20px 15px;
            min-width: 90px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .countdown-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(to right, #ff9eb5, #ff6b8b);
        }
        
        .countdown-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
        }
        
        .countdown-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
            margin-bottom: 5px;
            font-family: 'Playfair Display', serif;
            transition: all 0.3s ease;
        }
        
        .countdown-label {
            font-size: 0.85rem;
            color: #ffd1dc;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }
        
        /* Estilo especial para años */
        .countdown-box.years {
            background: linear-gradient(145deg, rgba(255, 182, 193, 0.4), rgba(255, 182, 193, 0.3));
            transform: scale(1.05);
            z-index: 2;
            min-width: 100px;
            padding: 25px 15px;
        }
        
        .countdown-box.years .countdown-value {
            font-size: 2.8rem;
            color: #ffd1dc;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
        }
        
        .countdown-box.years .countdown-label {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .countdown-box.years::before {
            background: linear-gradient(to right, #ffd1dc, #ff6b8b);
            height: 4px;
        }
        
        .countdown-box.years:hover {
            transform: scale(1.08) translateY(-5px);
        }
        
        /* Efecto de conteo para todos los números */
        .counting {
            animation: countAnimation 0.5s ease;
        }
        
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        
        .music-player.playing {
            background: rgba(255, 182, 193, 0.6);
            animation: pulse 1.5s infinite;
        }
        
        .music-icon {
            font-size: 2rem;
            color: white;
        }
        
        .now-playing {
            position: fixed;
            bottom: 85px;
            right: 20px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            backdrop-filter: blur(5px);
            max-width: 200px;
            text-align: center;
        }
        
        .now-playing.show {
            opacity: 1;
        }
        
        .secret-message {
            position: absolute;
            background: rgba(255, 182, 193, 0.9);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 20;
        }
        
        .print-button {
            margin-top: 30px;
            padding: 12px 25px;
            background: linear-gradient(to right, #ff9eb5, #ff6b8b);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 158, 181, 0.4);
        }
        
        .print-button:hover {
            background: linear-gradient(to right, #ff6b8b, #ff9eb5);
            transform: scale(1.05) translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 158, 181, 0.5);
        }
        
        /* Animations */
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }
        
        @keyframes fall {
            to {
                transform: translateY(calc(100vh + 50px)) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); }
            25% { transform: translateY(-20px) translateX(10px) rotate(5deg); }
            50% { transform: translateY(-40px) translateX(0) rotate(0deg); }
            75% { transform: translateY(-20px) translateX(-10px) rotate(-5deg); }
        }
        
        @keyframes openEnvelope {
            0% { transform: rotateX(0); }
            50% { transform: rotateX(180deg); }
            100% { transform: rotateX(180deg) scale(0.5); opacity: 0; }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes countAnimation {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .open .envelope {
            animation: openEnvelope 1.5s forwards;
        }
        
        .open .envelope-flap {
            transform: rotateX(180deg);
        }
        
        .show-letter-container {
            display: block;
            animation: fadeIn 1.5s ease forwards;
            transform: translateY(0);
            opacity: 1;
        }
        
        .show-message {
            opacity: 1;
            transform: translateY(0);
        }
        
        .show-countdown {
            opacity: 1;
            transform: translateY(0);
        }
        
        .hidden {
            opacity: 0;
            transform: scale(0);
            pointer-events: none;
            height: 0;
            margin-bottom: 0;
        }
        
        .heart-decoration {
            position: absolute;
            font-size: 2rem;
            color: #ff6b8b;
            opacity: 0.7;
            z-index: -1;
            animation: float 6s ease-in-out infinite;
        }
        
        @media (max-width: 900px) {
            .countdown-box {
                min-width: 80px;
                padding: 18px 12px;
            }
            
            .countdown-box.years {
                min-width: 85px;
                padding: 20px 12px;
            }
            
            .countdown-value {
                font-size: 2rem;
            }
            
            .countdown-box.years .countdown-value {
                font-size: 2.4rem;
            }
        }
        
        @media (max-width: 768px) {
            .countdown {
                gap: 12px;
            }
            
            .countdown-box {
                min-width: 70px;
                padding: 15px 10px;
            }
            
            .countdown-box.years {
                min-width: 75px;
                padding: 18px 10px;
            }
            
            .countdown-value {
                font-size: 1.8rem;
            }
            
            .countdown-box.years .countdown-value {
                font-size: 2.2rem;
            }
            
            .countdown-label {
                font-size: 0.8rem;
            }
            
            .reasons-container {
                grid-template-columns: 1fr;
            }
            
            .letter {
                padding: 30px 20px;
            }
            
            .letter-header {
                font-size: 2.8rem;
            }
            
            .letter-header::before,
            .letter-header::after {
                display: none;
            }
        }
        
        @media (max-width: 650px) {
            h1 {
                font-size: 3.5rem;
            }
            .letter {
                padding: 25px 15px;
            }
            .letter-header {
                font-size: 2.5rem;
            }
            
            .countdown {
                gap: 10px;
            }
            
            .countdown-box {
                min-width: 60px;
                padding: 12px 8px;
                border-radius: 12px;
            }
            
            .countdown-box.years {
                min-width: 65px;
                padding: 15px 8px;
            }
            
            .countdown-value {
                font-size: 1.6rem;
            }
            
            .countdown-box.years .countdown-value {
                font-size: 2rem;
            }
            
            .countdown-label {
                font-size: 0.75rem;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2.8rem;
            }
            .letter {
                padding: 20px 15px;
                font-size: 1rem;
            }
            .letter-header {
                font-size: 2.2rem;
            }
            .heart {
                font-size: 4.5rem;
            }
            .subtitle {
                font-size: 1.1rem;
            }
            .letter-signature {
                font-size: 2.2rem;
            }
            
            .countdown {
                gap: 8px;
            }
            
            .countdown-box {
                min-width: 55px;
                padding: 10px 5px;
                border-radius: 10px;
            }
            
            .countdown-box.years {
                min-width: 60px;
                padding: 12px 5px;
            }
            
            .countdown-value {
                font-size: 1.4rem;
            }
            
            .countdown-box.years .countdown-value {
                font-size: 1.8rem;
            }
            
            .countdown-label {
                font-size: 0.7rem;
            }
            
            .reason {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="background" id="background"></div>
    <div class="light-effect"></div>
    
    <!-- Reproductor de música -->
    <div class="music-player" id="musicPlayer">
        <div class="music-icon">🎵</div>
        <audio id="backgroundMusic" loop>
            <source src="Lovers Rock - TV Girl.mp3" type="audio/mp3">
            Tu navegador no soporta el elemento de audio.
        </audio>
    </div>
    
    <div class="now-playing" id="nowPlaying">Lovers Rock - TV Girl</div>
    
    <!-- Corazones decorativos sutiles -->
    <div class="heart-decoration" style="top: 10%; left: 5%;">❤</div>
    <div class="heart-decoration" style="top: 15%; right: 7%;">❤</div>
    <div class="heart-decoration" style="bottom: 20%; left: 8%;">❤</div>
    <div class="heart-decoration" style="bottom: 15%; right: 10%;">❤</div>
    
    <div class="container">
        <header id="header">
            <h1>Para mi Amor</h1>
            <p class="subtitle">Haz clic en el sobre para abrir mi carta de amor</p>
        </header>
        
        <div class="envelope-container" id="envelopeContainer">
            <div class="envelope">
                <div class="envelope-front">
                    <div class="heart">❤</div>
                    <div class="envelope-flap"></div>
                </div>
                <div class="envelope-back"></div>
            </div>
        </div>
        
        <div class="letter-container" id="letterContainer">
            <div class="letter">
                <div class="letter-header">150 Razones Para Amarte</div>
                
                <div class="reasons-container" id="reasonsContainer">
                    <!-- Las razones se generarán dinámicamente con JavaScript -->
                </div>
                
                <div class="letter-signature">
                    Con todo mi amor,<br>
                    Tu novio
                </div>

                <button class="print-button" onclick="window.print()">Imprimir estas razones</button>
            </div>
        </div>
        
        <p class="message" id="message">Cada una de estas razones viene directamente de mi corazón.<br>Te amo más de lo que las palabras pueden expresar.</p>
        
        <!-- Contador de tiempo juntos - MEJORADO -->
        <div class="countdown" id="countdown">
            <div class="countdown-box years">
                <div class="countdown-value" id="years">0</div>
                <div class="countdown-label">Años</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="months">0</div>
                <div class="countdown-label">Meses</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="days">0</div>
                <div class="countdown-label">Días</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="hours">0</div>
                <div class="countdown-label">Horas</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="minutes">0</div>
                <div class="countdown-label">Minutos</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="seconds">0</div>
                <div class="countdown-label">Segundos</div>
            </div>
        </div>
        
        <footer>
            Hecho con ❤ para ti - Para siempre
        </footer>
    </div>
    
    <div class="hearts-container" id="heartsContainer"></div>
    <div class="secret-message" id="secretMessage"></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const envelopeContainer = document.getElementById('envelopeContainer');
            const letterContainer = document.getElementById('letterContainer');
            const message = document.getElementById('message');
            const heartsContainer = document.getElementById('heartsContainer');
            const background = document.getElementById('background');
            const header = document.getElementById('header');
            const musicPlayer = document.getElementById('musicPlayer');
            const backgroundMusic = document.getElementById('backgroundMusic');
            const countdown = document.getElementById('countdown');
            const nowPlaying = document.getElementById('nowPlaying');
            const reasonsContainer = document.getElementById('reasonsContainer');
            const secretMessage = document.getElementById('secretMessage');
            
            // Fecha de inicio de la relación (19 de diciembre de 2024)
            const startDate = new Date('2024-12-19');
            
            // Variables para controlar la animación de conteo
            let lastValues = {
                years: 0,
                months: 0,
                days: 0,
                hours: 0,
                minutes: 0,
                seconds: 0
            };
            
            // Crear fondo de estrellas y corazones flotantes
            createBackground();
            
            // Configurar reproductor de música
            let isMusicPlaying = false;
            
            musicPlayer.addEventListener('click', function() {
                if (backgroundMusic.paused) {
                    backgroundMusic.play().then(() => {
                        musicPlayer.classList.add('playing');
                        nowPlaying.classList.add('show');
                        isMusicPlaying = true;
                        
                        // Ocultar el texto después de 3 segundos
                        setTimeout(() => {
                            nowPlaying.classList.remove('show');
                        }, 3000);
                    }).catch(error => {
                        console.log("Error al reproducir: ", error);
                        alert("Para reproducir la música, interactúa primero con la página haciendo clic en el sobre.");
                    });
                } else {
                    backgroundMusic.pause();
                    musicPlayer.classList.remove('playing');
                    nowPlaying.classList.remove('show');
                    isMusicPlaying = false;
                }
            });
            
            // Mostrar mensaje secreto
            window.showSecretMessage = function(event, message) {
                secretMessage.textContent = message;
                secretMessage.style.top = (event.clientY - 40) + 'px';
                secretMessage.style.left = (event.clientX - 60) + 'px';
                secretMessage.style.opacity = '1';
                
                setTimeout(() => {
                    secretMessage.style.opacity = '0';
                }, 2000);
            };
            
            // Reproducir música automáticamente al abrir la carta
            function playBackgroundMusic() {
                if (!isMusicPlaying) {
                    backgroundMusic.play().then(() => {
                        musicPlayer.classList.add('playing');
                        nowPlaying.classList.add('show');
                        isMusicPlaying = true;
                        
                        // Ocultar el texto después de 3 segundos
                        setTimeout(() => {
                            nowPlaying.classList.remove('show');
                        }, 3000);
                    }).catch(error => {
                        console.log("La reproducción automática fue prevenida: ", error);
                    });
                }
            }
            
            // Actualizar contador de tiempo juntos
            function updateCountdown() {
                const now = new Date();
                const diff = now - startDate;
                
                // Si la fecha aún no ha llegado, mostrar ceros
                if (diff < 0) {
                    document.getElementById('years').textContent = 0;
                    document.getElementById('months').textContent = 0;
                    document.getElementById('days').textContent = 0;
                    document.getElementById('hours').textContent = 0;
                    document.getElementById('minutes').textContent = 0;
                    document.getElementById('seconds').textContent = 0;
                    return;
                }
                
                const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
                const months = Math.floor((diff % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24 * 30));
                const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 30)) / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                // Actualizar valores con animación si cambian
                updateWithAnimation('years', years);
                updateWithAnimation('months', months);
                updateWithAnimation('days', days);
                updateWithAnimation('hours', hours);
                updateWithAnimation('minutes', minutes);
                updateWithAnimation('seconds', seconds);
                
                // Guardar valores actuales para la próxima comparación
                lastValues = { years, months, days, hours, minutes, seconds };
            }
            
            // Función para actualizar con animación
            function updateWithAnimation(elementId, newValue) {
                const element = document.getElementById(elementId);
                const currentValue = parseInt(element.textContent);
                
                if (currentValue !== newValue) {
                    element.textContent = newValue;
                    element.classList.add('counting');
                    
                    // Remover la clase después de la animación
                    setTimeout(() => {
                        element.classList.remove('counting');
                    }, 500);
                }
            }
            
            setInterval(updateCountdown, 1000); // Actualiza cada segundo
            updateCountdown();
            
            // Generar las 150 razones para amarte
            function generateReasons() {
                const reasons = [
                    "1. Por tu sonrisa que ilumina mis días",
                    "2. Por tu forma de mirarme como si fuera el hombre más importante del mundo",
                    "3. Por tu bondad con todos los que te rodean",
                    "4. Por tu sentido del humor que siempre me hace reír",
                    "5. Por tu inteligencia que me inspira",
                    "6. Por tu forma de entender mis silencios",
                    "7. Por cómo cuidas de mí cuando estoy enfermo",
                    "8. Por tu pasión por las cosas que te importan",
                    "9. Por tu capacidad para perdonar",
                    "10. Por tu amor incondicional",
                    
                    "11. Por cómo me haces ser mejor persona",
                    "12. Por tu voz que calma mi alma",
                    "13. Por tu forma de abrazarme como si el mundo se detuviera",
                    "14. Por tu honestidad en cada momento",
                    "15. Por tu valentía para enfrentar los desafíos",
                    "16. Por tu creatividad que siempre me sorprende",
                    "17. Por tu paciencia con mis defectos",
                    "18. Por tu forma de celebrar mis logros",
                    "19. Por tu compañía que hace todo mejor",
                    "20. Por tu risa contagiosa",
                    
                    "21. Por tu optimismo incluso en días difíciles",
                    "22. Por tu forma de cocinar con amor",
                    "23. Por tu dedicación a lo que te propones",
                    "24. Por tu sensibilidad hacia los demás",
                    "25. Por tu apoyo incondicional a mis sueños",
                    "26. Por tu elegancia natural",
                    "27. Por tu fortaleza en momentos difíciles",
                    "28. Por tu ternura cuando más lo necesito",
                    "29. Por tu forma de hacer sentir especial a cada persona",
                    "30. Por tu capacidad para encontrar belleza en lo simple",
                    
                    "31. Por tu lealtad que nunca cuestiono",
                    "32. Por tu espontaneidad que alegra mis días",
                    "33. Por tu sabiduría al aconsejarme",
                    "34. Por tu energía positiva que contagias",
                    "35. Por tu forma de amarme sin condiciones",
                    "36. Por tu romanticismo que mantiene viva nuestra llama",
                    "37. Por tu generosidad sin esperar nada a cambio",
                    "38. Por tu perseverancia ante los obstáculos",
                    "39. Por tu humildad a pesar de tus virtudes",
                    "40. Por tu complicidad que hace único nuestro vínculo",
                    
                    "41. Por tu mirada que dice más que mil palabras",
                    "42. Por tu forma de escuchar con atención genuina",
                    "43. Por tu calidez que reconforta mi corazón",
                    "44. Por tu estilo único que te hace irrepetible",
                    "45. Por tu curiosidad por aprender cosas nuevas",
                    "46. Por tu compromiso con nuestras metas",
                    "47. Por tu alegría que ilumina cualquier lugar",
                    "48. Por tu honestidad emocional",
                    "49. Por tu capacidad para sorprenderme",
                    "50. Por tu amor que transformó mi vida",
                    
                    "51. Por tu sonrisa al despertar",
                    "52. Por tu forma de cantar aunque no seas profesional",
                    "53. Por tu entusiasmo por las pequeñas cosas",
                    "54. Por tu dedicación a nuestra relación",
                    "55. Por tu forma de bailar sin importar quién vea",
                    "56. Por tu valentía para ser auténtica",
                    "57. Por tu complicidad en mis travesuras",
                    "58. Por tu apoyo en mis decisiones",
                    "59. Por tu respeto hacia mis espacios",
                    "60. Por tu amor que crece cada día",
                    
                    "61. Por tu forma de resolver problemas con calma",
                    "62. Por tu intuición que casi nunca se equivoca",
                    "63. Por tu capacidad para hacer amigos everywhere",
                    "64. Por tu amor por los animales",
                    "65. Por tu forma de cuidar las plantas",
                    "66. Por tu dedicación a tu familia",
                    "67. Por tu sonrisa cuando duermes",
                    "68. Por tu forma de animarme cuando estoy triste",
                    "69. Por tu honestidad intelectual",
                    "70. Por tu amor que siento incluso a la distancia",
                    
                    "71. Por tu forma de decirme las cosas con dulzura",
                    "72. Por tu valentía para probar cosas nuevas",
                    "73. Por tu perseverancia en tus proyectos",
                    "74. Por tu capacidad para perdonar mis errores",
                    "75. Por tu forma de recordar detalles importantes",
                    "76. Por tu amor por la naturaleza",
                    "77. Por tu sonrisa cuando te doy a un regalo",
                    "78. Por tu forma de organizar todo",
                    "79. Por tu paciencia para enseñarme",
                    "80. Por tu amor que me hace sentir completo",
                    
                    "81. Por tu forma de mirar las estrellas",
                    "82. Por tu entusiasmo en las mañanas",
                    "83. Por tu dedicación a tu trabajo",
                    "84. Por tu amor por la lectura",
                    "85. Por tu forma de disfrutar la lluvia",
                    "86. Por tu sonrisa cuando cocino para ti",
                    "87. Por tu valentía para defender lo que crees",
                    "88. Por tu forma de cuidar nuestro planeta",
                    "89. Por tu amor que me inspira a ser mejor",
                    "90. Por tu presencia que calma mis tormentas",
                    
                    "91. Por tu forma de decir 'te amo' cada día",
                    "92. Por tu sonrisa cuando veo tus fotos",
                    "93. Por tu amor que transforma lo ordinario en extraordinario",
                    "94. Por tu forma de hacer que cada día sea especial",
                    "95. Por tu dedicación a hacer feliz a los demás",
                    "96. Por tu valentía para enfrentar tus miedos",
                    "97. Por tu forma de ver lo mejor en cada persona",
                    "98. Por tu amor que es mi mayor fortuna",
                    "99. Por tu sonrisa que es mi lugar favorito",
                    "100. Por ser tú, exactamente como eres",
                    
                    "101. Por tu forma de abrazar mis sueños como propios",
                    "102. Por tu paciencia cuando enseñas a otros",
                    "103. Por tu valentía para cambiar lo que no te gusta",
                    "104. Por tu forma de celebrar la vida cada día",
                    "105. Por tu dedicación a mantener nuestras tradiciones",
                    "106. Por tu amor que me da fuerzas para continuar",
                    "107. Por tu sonrisa que es mi refugio seguro",
                    "108. Por tu forma de encontrar soluciones creativas",
                    "109. Por tu compromiso con hacer el bien",
                    "110. Por tu amor que es el regalo más valioso",
                    
                    "111. Por tu forma de cantar en la ducha",
                    "112. Por tu entusiasmo por los días de nieve",
                    "113. Por tu dedicación a mantener viva la magia",
                    "114. Por tu amor que hace que todo tenga sentido",
                    "115. Por tu sonrisa cuando ves a un bebé",
                    "116. Por tu forma de disfrutar un buen café",
                    "117. Por tu valentía para seguir tu corazón",
                    "118. Por tu amor que es mi mayor inspiración",
                    "119. Por tu forma de hacer que me sienta especial",
                    "120. Por ser la razón de mi felicidad",
                    
                    "121. Por tu forma de mirar el atardecer",
                    "122. Por tu entusiasmo por aprender cosas nuevas",
                    "123. Por tu dedicación a cuidar nuestro amor",
                    "124. Por tu amor que supera cualquier obstáculo",
                    "125. Por tu sonrisa cuando logras algo importante",
                    "126. Por tu forma de apoyar mis pasiones",
                    "127. Por tu valentía para ser vulnerable conmigo",
                    "128. Por tu amor que es mi mayor tesoro",
                    "129. Por tu forma de hacer que cada momento cuente",
                    "130. Por ser mi confidente y mejor amiga",
                    
                    "131. Por tu forma de disfrutar la música",
                    "132. Por tu entusiasmo por viajar juntos",
                    "133. Por tu dedicación a mantener nuestra conexión",
                    "134. Por tu amor que crece con el tiempo",
                    "135. Por tu sonrisa cuando me ves después de mucho tiempo",
                    "136. Por tu forma de hacer que lo cotidiano sea especial",
                    "137. Por tu valentía para perseguir tus sueños",
                    "138. Por tu amor que es mi fuerza y debilidad",
                    "139. Por tu forma de recordar por qué nos elegimos",
                    "140. Por ser el amor de mi vida",
                    
                    "141. Por tu forma de bailar bajo la lluvia",
                    "142. Por tu entusiasmo por construir nuestro futuro",
                    "143. Por tu dedicación a nuestra felicidad",
                    "144. Por tu amor que es el regalo más grande",
                    "145. Por tu sonrisa cuando digo 'para siempre'",
                    "146. Por tu forma de hacer que cada día sea una aventura",
                    "147. Por tu valentía para amar sin reservas",
                    "148. Por tu amor que es mi hogar",
                    "149. Por tu forma de ser exactamente lo que necesito",
                    "150. Por existir y permitirme amarte"
                ];
                
                reasons.forEach(reason => {
                    const reasonElement = document.createElement('div');
                    reasonElement.classList.add('reason');
                    reasonElement.innerHTML = `<span class="reason-number">${reason.split('.')[0]}.</span> ${reason.split('.').slice(1).join('.')}`;
                    reasonsContainer.appendChild(reasonElement);
                });
            }
            
            // Abrir la carta al hacer clic en el sobre
            envelopeContainer.addEventListener('click', function() {
                // Animación del sobre
                envelopeContainer.classList.add('open');
                
                // Ocultar el sobre después de la animación
                setTimeout(() => {
                    envelopeContainer.classList.add('hidden');
                    header.classList.add('hidden');
                    
                    // Generar las 150 razones
                    generateReasons();
                    
                    // Mostrar la carta y elementos adicionales
                    setTimeout(() => {
                        letterContainer.classList.add('show-letter-container');
                        message.classList.add('show-message');
                        
                        // Mostrar elementos con retraso
                        setTimeout(() => {
                            countdown.classList.add('show-countdown');
                        }, 1000);
                        
                        // Desplazar suavemente a la carta
                        setTimeout(() => {
                            letterContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }, 500);
                    }, 500);
                }, 1000);
                
                // Crear corazones que caen
                createHearts();
                
                // Reproducir sonido de carta
                playSound();
                
                // Reproducir música de fondo
                playBackgroundMusic();
            });
            
            // Función para crear fondo especial
            function createBackground() {
                // Crear estrellas
                const starsCount = 150;
                
                for (let i = 0; i < starsCount; i++) {
                    const star = document.createElement('div');
                    star.classList.add('star');
                    
                    // Tamaño aleatorio
                    const size = Math.random() * 3;
                    star.style.width = size + 'px';
                    star.style.height = size + 'px';
                    
                    // Posición aleatoria
                    star.style.left = Math.random() * 100 + 'vw';
                    star.style.top = Math.random() * 100 + 'vh';
                    
                    // Duración de animación aleatoria
                    const duration = Math.random() * 5 + 3;
                    star.style.setProperty('--duration', duration + 's');
                    
                    // Retraso aleatorio
                    star.style.animationDelay = Math.random() * 5 + 's';
                    
                    background.appendChild(star);
                }
                
                // Crear corazones flotantes
                const heartsCount = 15;
                
                for (let i = 0; i < heartsCount; i++) {
                    const heart = document.createElement('div');
                    heart.classList.add('floating-heart');
                    heart.innerHTML = '❤';
                    
                    // Tamaño aleatorio
                    const size = Math.random() * 30 + 20;
                    heart.style.fontSize = size + 'px';
                    
                    // Posición aleatoria
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = Math.random() * 100 + 'vh';
                    
                    // Duración de animación aleatoria
                    const duration = Math.random() * 10 + 10;
                    heart.style.setProperty('--float-duration', duration + 's');
                    
                    // Retraso aleatorio
                    heart.style.animationDelay = Math.random() * 5 + 's';
                    
                    background.appendChild(heart);
                }
            }
            
            // Función para crear corazones que caen
            function createHearts() {
                const heartCount = 50;
                
                for (let i = 0; i < heartCount; i++) {
                    const heart = document.createElement('div');
                    heart.innerHTML = '❤';
                    heart.classList.add('heart-fall');
                    
                    // Posición aleatoria
                    heart.style.left = Math.random() * 100 + 'vw';
                    
                    // Duración aleatoria
                    heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    
                    // Tamaño aleatorio
                    const size = Math.random() * 25 + 15;
                    heart.style.fontSize = size + 'px';
                    
                    heartsContainer.appendChild(heart);
                    
                    // Eliminar el corazón después de la animación
                    setTimeout(() => {
                        heart.remove();
                    }, 5000);
                }
            }
            
            // Función para reproducir sonido
            function playSound() {
                try {
                    // Crear contexto de audio
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    const audioCtx = new AudioContext();
                    
                    // Crear oscilador para sonido de carta
                    const oscillator = audioCtx.createOscillator();
                    const gainNode = audioCtx.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioCtx.destination);
                    
                    // Configurar el sonido
                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(440, audioCtx.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(880, audioCtx.currentTime + 0.1);
                    
                    gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2);
                    
                    // Reproducir
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.3);
                } catch (e) {
                    console.log("Error de audio: ", e);
                }
            }
        });
    </script>
</body>
</html>