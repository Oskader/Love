<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta de Amor Interactiva</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #1a0a2e, #2c0a3a, #4a0a5a);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            overflow: auto;
            position: relative;
            color: #fff;
            padding: 20px;
            font-family: 'Playfair Display', serif;
            overflow-x: hidden;
        }
        
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .star {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: twinkle var(--duration) ease-in-out infinite;
        }
        
        .floating-heart {
            position: absolute;
            font-size: 24px;
            color: rgba(255, 182, 193, 0.8);
            animation: float var(--float-duration) ease-in-out infinite;
            z-index: -1;
        }
        
        .light-effect {
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 70%);
            pointer-events: none;
            z-index: -1;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            text-align: center;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 40px 0;
        }
        
        header {
            margin-bottom: 30px;
            animation: fadeIn 2s ease;
            width: 100%;
        }
        
        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            color: #ffd1dc;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #ffd1dc;
            max-width: 500px;
            margin: 0 auto;
            font-style: italic;
        }
        
        .years-subtitle {
            font-size: 1.2rem;
            color: #ffd1dc;
            margin: 10px 0 30px;
            font-style: italic;
        }
        
        .envelope-container {
            position: relative;
            width: 300px;
            height: 200px;
            margin: 0 auto 40px;
            cursor: pointer;
            perspective: 1000px;
            z-index: 2;
            transition: all 1s ease;
        }
        
        .envelope {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .envelope-front, .envelope-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }
        
        .envelope-front {
            background: #e74c3c;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(231, 76, 60, 0.4);
            z-index: 2;
        }
        
        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #c0392b;
            border-radius: 8px 8px 0 0;
            clip-path: polygon(0 0, 100% 0, 50% 50%);
            transform-origin: top;
            transition: transform 0.8s ease;
        }
        
        .envelope-back {
            background: #f1c40f;
            border-radius: 8px;
            transform: rotateX(180deg);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(241, 196, 15, 0.4);
            display: none;
        }
        
        .heart {
            font-size: 5.5rem;
            color: white;
            animation: pulse 1.8s infinite;
        }
        
        .letter-container {
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
            position: relative;
            display: none;
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s ease;
        }
        
        .letter {
            background: rgba(255, 240, 245, 0.85);
            border: 2px solid rgba(255, 182, 193, 0.7);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 182, 193, 0.4);
            position: relative;
            font-size: 1.15rem;
            line-height: 1.7;
            text-align: left;
            color: #8a4b76;
            z-index: 5;
            max-height: 80vh;
            overflow-y: auto;
            backdrop-filter: blur(10px);
        }
        
        .letter::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(to right, rgba(255, 158, 181, 0.7), rgba(255, 107, 139, 0.7), rgba(255, 158, 181, 0.7));
            border-radius: 20px 20px 0 0;
        }
        
        .letter::after {
            content: "";
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 8px;
            background: rgba(255, 158, 181, 0.3);
            border-radius: 0 0 8px 8px;
        }
        
        .letter-header {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            text-align: center;
            margin-bottom: 30px;
            color: #ff6b8b;
            position: relative;
            text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.1);
        }
        
        .letter-subtitle {
            text-align: center;
            font-style: italic;
            margin-bottom: 30px;
            color: #ff6b8b;
            font-size: 1.2rem;
        }
        
        .reasons-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 30px 0;
        }
        
        .reason {
            background: rgba(255, 182, 193, 0.2);
            padding: 18px 20px;
            border-radius: 15px;
            border-left: 5px solid rgba(255, 107, 139, 0.7);
            transition: all 0.4s ease;
            position: relative;
            box-shadow: 0 4px 15px rgba(255, 182, 193, 0.2);
            backdrop-filter: blur(5px);
        }
        
        .reason:hover {
            transform: translateY(-5px) translateX(5px);
            background: rgba(255, 182, 193, 0.3);
            box-shadow: 0 8px 25px rgba(255, 182, 193, 0.3);
        }
        
        .reason-number {
            font-weight: bold;
            color: #ff6b8b;
            margin-right: 8px;
            font-size: 1.2rem;
            position: relative;
            display: inline-block;
        }
        
        .reason-number::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, rgba(255, 107, 139, 0.7), transparent);
        }
        
        .reason-150 {
            background: rgba(255, 182, 193, 0.3);
            padding: 25px;
            border: 2px solid rgba(255, 107, 139, 0.7);
            box-shadow: 0 5px 20px rgba(255, 182, 193, 0.4);
            transform: scale(1.02);
            z-index: 2;
        }
        
        .reason-150:hover {
            transform: scale(1.03) translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 182, 193, 0.5);
        }
        
        .reason-150 .reason-number {
            font-size: 1.4rem;
            color: #ff4d7a;
        }
        
        .letter-signature {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            text-align: center;
            color: #ff6b8b;
            margin-top: 40px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .hearts-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            overflow: hidden;
        }
        
        .heart-fall {
            position: absolute;
            top: -50px;
            color: rgba(255, 105, 180, 0.8);
            font-size: 28px;
            animation: fall linear forwards;
        }
        
        .countdown-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #ffd1dc;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }
        
        .show-countdown-title {
            opacity: 1;
            transform: translateY(0);
        }
        
        footer {
            margin-top: 40px;
            color: #ffd1dc;
            font-size: 1.2rem;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
        }
        
        .countdown {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }
        
        .countdown-box {
            background: linear-gradient(145deg, rgba(255, 182, 193, 0.3), rgba(255, 182, 193, 0.2));
            border-radius: 15px;
            padding: 20px 15px;
            min-width: 90px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .countdown-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(to right, #ff9eb5, #ff6b8b);
        }
        
        .countdown-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
        }
        
        .countdown-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
            margin-bottom: 5px;
            font-family: 'Playfair Display', serif;
            transition: all 0.3s ease;
        }
        
        .countdown-label {
            font-size: 0.85rem;
            color: #ffd1dc;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }
        
        .countdown-box.years {
            background: linear-gradient(145deg, rgba(255, 182, 193, 0.4), rgba(255, 182, 193, 0.3));
            transform: scale(1.05);
            z-index: 2;
            min-width: 100px;
            padding: 25px 15px;
        }
        
        .countdown-box.years .countdown-value {
            font-size: 2.8rem;
            color: #ffd1dc;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
        }
        
        .countdown-box.years .countdown-label {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .countdown-box.years::before {
            background: linear-gradient(to right, #ffd1dc, #ff6b8b);
            height: 4px;
        }
        
        .countdown-box.years:hover {
            transform: scale(1.08) translateY(-5px);
        }
        
        .counting {
            animation: countAnimation 0.5s ease;
        }
        
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        
        .music-player.playing {
            background: rgba(255, 182, 193, 0.6);
            animation: pulse 1.5s infinite;
        }
        
        .music-icon {
            font-size: 2rem;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .now-playing {
            position: fixed;
            bottom: 85px;
            right: 20px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            backdrop-filter: blur(5px);
            max-width: 200px;
            text-align: center;
        }
        
        .now-playing.show {
            opacity: 1;
        }
        
        .secret-message {
            position: absolute;
            background: rgba(255, 182, 193, 0.9);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 20;
        }
        
        .heart-decoration {
            position: absolute;
            font-size: 2rem;
            color: #ff6b8b;
            opacity: 0.7;
            z-index: -1;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }
        
        @keyframes fall {
            to {
                transform: translateY(calc(100vh + 50px)) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); }
            25% { transform: translateY(-20px) translateX(10px) rotate(5deg); }
            50% { transform: translateY(-40px) translateX(0) rotate(0deg); }
            75% { transform: translateY(-20px) translateX(-10px) rotate(-5deg); }
        }
        
        @keyframes openEnvelope {
            0% { transform: rotateX(0); }
            50% { transform: rotateX(180deg); }
            100% { transform: rotateX(180deg) scale(0.5); opacity: 0; }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes countAnimation {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
           100% { transform: scale(1); }
        }
        
        .open .envelope {
            animation: openEnvelope 1.5s forwards;
        }
        
        .open .envelope-flap {
            transform: rotateX(180deg);
        }
        
        .show-letter-container {
            display: block;
            animation: fadeIn 1.5s ease forwards;
            transform: translateY(0);
            opacity: 1;
        }
        
        .show-countdown-title {
            opacity: 1;
            transform: translateY(0);
        }
        
        .show-countdown {
            opacity: 1;
            transform: translateY(0);
        }
        
        .hidden {
            opacity: 0;
            transform: scale(0);
            pointer-events: none;
            height: 0;
            margin-bottom: 0;
        }
        
        @media (max-width: 900px) {
            .countdown-box {
                min-width: 80px;
                padding: 18px 12px;
            }
            
            .countdown-box.years {
                min-width: 85px;
                padding: 20px 12px;
            }
            
            .countdown-value {
                font-size: 2rem;
            }
            
            .countdown-box.years .countdown-value {
                font-size: 2.4rem;
            }
        }
        
        @media (max-width: 768px) {
            .countdown {
                gap: 12px;
            }
            
            .countdown-box {
                min-width: 70px;
                padding: 15px 10px;
            }
            
            .countdown-box.years {
                min-width: 75px;
                padding: 18px 10px;
            }
            
            .countdown-value {
                font-size: 1.8rem;
            }
            
            .countdown-box.years .countdown-value {
                font-size: 2.2rem;
            }
            
            .countdown-label {
                font-size: 0.8rem;
            }
            
            .letter {
                padding: 30px 20px;
            }
            
            .letter-header {
                font-size: 2.8rem;
            }
            
            .countdown-title {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 650px) {
            h1 {
                font-size: 3.5rem;
            }
            .letter {
                padding: 25px 15px;
            }
            .letter-header {
                font-size: 2.5rem;
            }
            
            .countdown {
                gap: 10px;
            }
            
            .countdown-box {
                min-width: 60px;
                padding: 12px 8px;
                border-radius: 12px;
            }
            
            .countdown-box.years {
                min-width: 65px;
                padding: 15px 8px;
            }
            
            .countdown-value {
                font-size: 1.6rem;
            }
            
            .countdown-box.years .countdown-value {
                font-size: 2rem;
            }
            
            .countdown-label {
                font-size: 0.75rem;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2.8rem;
            }
            .letter {
                padding: 20px 15px;
                font-size: 1rem;
            }
            .letter-header {
                font-size: 2.2rem;
            }
            .heart {
                font-size: 4.5rem;
            }
            .subtitle {
                font-size: 1.1rem;
            }
            .years-subtitle {
                font-size: 1rem;
            }
            .letter-signature {
                font-size: 2.5rem;
            }
            
            .countdown {
                gap: 8px;
            }
            
            .countdown-box {
                min-width: 55px;
                padding: 10px 5px;
                border-radius: 10px;
            }
            
            .countdown-box.years {
                min-width: 60px;
                padding: 12px 5px;
            }
            
            .countdown-value {
                font-size: 1.4rem;
            }
            
            .countdown-box.years .countdown-value {
                font-size: 1.8rem;
            }
            
            .countdown-label {
                font-size: 0.7rem;
            }
            
            .reason {
                padding: 15px;
            }
            
            .reason-150 {
                padding: 20px;
            }
            
            .countdown-title {
                font-size: 1.8rem;
            }
            
            footer {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="background" id="background"></div>
    <div class="light-effect"></div>
    
    <div class="music-player" id="musicPlayer">
        <div class="music-icon">üéµ</div>
        <audio id="backgroundMusic" loop>
            <source src="Lovers Rock - TV Girl.mp3" type="audio/mp3">
            Tu navegador no soporta el elemento de audio.
        </audio>
    </div>
    
    <div class="now-playing" id="nowPlaying">Lovers Rock - TV Girl</div>
    
    <div class="heart-decoration" style="top: 10%; left: 5%;">‚ù§</div>
    <div class="heart-decoration" style="top: 15%; right: 7%;">‚ù§</div>
    <div class="heart-decoration" style="bottom: 20%; left: 8%;">‚ù§</div>
    <div class="heart-decoration" style="bottom: 15%; right: 10%;">‚ù§</div>
    
    <div class="container">
        <header id="header">
            <h1>Para mi Amor</h1>
            <p class="years-subtitle">10 razones por cada a√±o que tienes</p>
            <p class="subtitle">Haz clic en el sobre para abrir mi carta de amor</p>
        </header>
        
        <div class="envelope-container" id="envelopeContainer">
            <div class="envelope">
                <div class="envelope-front">
                    <div class="heart">‚ù§</div>
                    <div class="envelope-flap"></div>
                </div>
                <div class="envelope-back"></div>
            </div>
        </div>
        
        <div class="letter-container" id="letterContainer">
            <div class="letter">
                <div class="letter-header">150 Razones Para Amarte</div>
                <div class="letter-subtitle">10 razones por cada a√±o de tu vida</div>
                
                <div class="reasons-container" id="reasonsContainer">
                    <!-- Las razones se generar√°n din√°micamente con JavaScript -->
                </div>
                
                <div class="letter-signature">TE AMOOOOO üíó</div>
            </div>
        </div>
        
        <h2 class="countdown-title" id="countdownTitle">Tiempo juntitos</h2>
        
        <div class="countdown" id="countdown">
            <div class="countdown-box years">
                <div class="countdown-value" id="years">0</div>
                <div class="countdown-label">A√±os</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="months">0</div>
                <div class="countdown-label">Meses</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="days">0</div>
                <div class="countdown-label">D√≠as</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="hours">0</div>
                <div class="countdown-label">Horas</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="minutes">0</div>
                <div class="countdown-label">Minutos</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-value" id="seconds">0</div>
                <div class="countdown-label">Segundos</div>
            </div>
        </div>
        
        <footer>para mi princesa hermosa - Isabella üíó</footer>
    </div>
    
    <div class="hearts-container" id="heartsContainer"></div>
    <div class="secret-message" id="secretMessage"></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const envelopeContainer = document.getElementById('envelopeContainer');
            const letterContainer = document.getElementById('letterContainer');
            const heartsContainer = document.getElementById('heartsContainer');
            const background = document.getElementById('background');
            const header = document.getElementById('header');
            const musicPlayer = document.getElementById('musicPlayer');
            const backgroundMusic = document.getElementById('backgroundMusic');
            const countdown = document.getElementById('countdown');
            const countdownTitle = document.getElementById('countdownTitle');
            const nowPlaying = document.getElementById('nowPlaying');
            const reasonsContainer = document.getElementById('reasonsContainer');
            const secretMessage = document.getElementById('secretMessage');
            
            const startDate = new Date('2024-12-19');
            
            let lastValues = {
                years: 0,
                months: 0,
                days: 0,
                hours: 0,
                minutes: 0,
                seconds: 0
            };
            
            createBackground();
            
            let isMusicPlaying = false;
            
            musicPlayer.addEventListener('click', function() {
                if (backgroundMusic.paused) {
                    backgroundMusic.play().then(() => {
                        musicPlayer.classList.add('playing');
                        nowPlaying.classList.add('show');
                        isMusicPlaying = true;
                        
                        setTimeout(() => {
                            nowPlaying.classList.remove('show');
                        }, 3000);
                    }).catch(error => {
                        console.log("Error al reproducir: ", error);
                        alert("Para reproducir la m√∫sica, interact√∫a primero con la p√°gina haciendo clic en el sobre.");
                    });
                } else {
                    backgroundMusic.pause();
                    musicPlayer.classList.remove('playing');
                    nowPlaying.classList.remove('show');
                    isMusicPlaying = false;
                }
            });
            
            window.showSecretMessage = function(event, message) {
                secretMessage.textContent = message;
                secretMessage.style.top = (event.clientY - 40) + 'px';
                secretMessage.style.left = (event.clientX - 60) + 'px';
                secretMessage.style.opacity = '1';
                
                setTimeout(() => {
                    secretMessage.style.opacity = '0';
                }, 2000);
            };
            
            function playBackgroundMusic() {
                if (!isMusicPlaying) {
                    backgroundMusic.play().then(() => {
                        musicPlayer.classList.add('playing');
                        nowPlaying.classList.add('show');
                        isMusicPlaying = true;
                        
                        setTimeout(() => {
                            nowPlaying.classList.remove('show');
                        }, 3000);
                    }).catch(error => {
                        console.log("La reproducci√≥n autom√°tica fue prevenida: ", error);
                    });
                }
            }
            
            function updateCountdown() {
                const now = new Date();
                const diff = now - startDate;
                
                if (diff < 0) {
                    document.getElementById('years').textContent = 0;
                    document.getElementById('months').textContent = 0;
                    document.getElementById('days').textContent = 0;
                    document.getElementById('hours').textContent = 0;
                    document.getElementById('minutes').textContent = 0;
                    document.getElementById('seconds').textContent = 0;
                    return;
                }
                
                const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
                const months = Math.floor((diff % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24 * 30));
                const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 30)) / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                updateWithAnimation('years', years);
                updateWithAnimation('months', months);
                updateWithAnimation('days', days);
                updateWithAnimation('hours', hours);
                updateWithAnimation('minutes', minutes);
                updateWithAnimation('seconds', seconds);
                
                lastValues = { years, months, days, hours, minutes, seconds };
            }
            
            function updateWithAnimation(elementId, newValue) {
                const element = document.getElementById(elementId);
                const currentValue = parseInt(element.textContent);
                
                if (currentValue !== newValue) {
                    element.textContent = newValue;
                    element.classList.add('counting');
                    
                    setTimeout(() => {
                        element.classList.remove('counting');
                    }, 500);
                }
            }
            
            setInterval(updateCountdown, 1000);
            updateCountdown();
            
            function generateReasons() {
                const reasons = [
                    "1 Lo √∫nica que eres",
                    "2 Tus ojos",
                    "3 Tu carita",
                    "4 Tu sonrisa",
                    "5 Lo linda que eres",
                    "6 Lo hermosa que eres",
                    "7 Lo especial que eres",
                    "8 Tu forma de ser",
                    "9 La forma en que me tratas",
                    "10 Las foticos que me mandas",
                    "11 Lo feliz que me haces",
                    "12 Lo lindo que me tratas",
                    "13 Como me haces sentir valorado",
                    "14 Tu personalidad",
                    "15 Tu forma de amar",
                    "16 Como me escuchas",
                    "17 Como me miras",
                    "18 Lo inteligente que eres",
                    "19 Como me entiendes",
                    "20 Como me enamoras todos los d√≠as",
                    "21 La emoci√≥n que me provocas",
                    "22 Lo tierna que eres",
                    "23 Lo consentida que eres",
                    "24 Lo celosita jsjsjs",
                    "25 Tu cabello",
                    "26 Tu nariz",
                    "27 Tus manos",
                    "28 Cuando te enojas sjsks",
                    "29 Lo preciosa que eres",
                    "30 La seguridad que me das",
                    "31 Lo atenta que eres",
                    "32 Lo amable que eres",
                    "33 Cuando est√°s alado m√≠o",
                    "34 Cuando me abrazas",
                    "35 Cuando hablo contigo",
                    "36 Cuando me das la mano",
                    "37 Cuando me das besitos",
                    "38 Lo tranquilo que me haces sentir",
                    "39 Tus caricias",
                    "40 Tu confianza",
                    "41 La confianza que me das",
                    "42 Cuando salimos",
                    "43 Cuando me dices te amo",
                    "44 Cuando me dices que soy el mejor",
                    "45 Cuando muestras tu inter√©s conmigo",
                    "46 Lo noble que eres",
                    "47 Cuando me dices que me quieres",
                    "48 El cari√±o que me das",
                    "49 Tu incre√≠ble forma de vestir",
                    "50 Tu peinado",
                    "51 Lo dedicada que eres",
                    "52 Lo feliz que eres",
                    "53 Lo alegre que eres",
                    "54 Cuando me haces sentir que todo es posible",
                    "55 Cuando me haces sentir nervioso",
                    "56 Cuando me presentaste con tu familia",
                    "57 Cuando me dices cosas bonitas",
                    "58 Cuando me haces sentir amado",
                    "59 Cuando me haces sentir querido",
                    "60 Cuando me entiendes",
                    "61 Que siempre est√°s para m√≠",
                    "62 Tu estilo",
                    "63 Cuando me hiciste mi primera carta",
                    "64 Cuando me das regalitos",
                    "65 Cuando me das un colerito",
                    "66 Cuando me presumes ( tengo que presumirte m√°s jsjsjs)",
                    "67 Cuando no me juzgas",
                    "68 Cuando me dedicas canciones",
                    "69 Cuando me mandas fotos de milu y luna",
                    "70 Cuando me mandas un v√≠deo de que est√°s haciendo",
                    "71 Cuando compartimos momentos lindos",
                    "72 La paciencia que me tienes",
                    "73 Cuando por primera vez me dijiste te amo",
                    "74 Lo divertida que eres",
                    "75 Lo comprensiva que eres",
                    "76 Lo honesta que eres",
                    "77 Lo sincera que eres",
                    "78 Las promesas que me haces",
                    "79 El futuro que quieres",
                    "80 Los sue√±os que tienes",
                    "81 Cuando me haces so√±ar todo un mundo contigo",
                    "82 Cuando me dices mi ni√±o",
                    "83 Cuando me dices te amo",
                    "84 Cuando me dices mi vida",
                    "85 La paz que me generas",
                    "86 Cuando me dices que si quieres tener hijitos",
                    "87 Cuando te veo en los descansos",
                    "88 Cuando me agarras el brazo",
                    "89 Tu pasi√≥n con el voley",
                    "90 La forma en que mejoras todos los d√≠as",
                    "91 Cuando me muerdes",
                    "92 Como te esfuerzas por ser mejor",
                    "93 Tu linda voz",
                    "94 Tu compa√±√≠a al estar conmigo cuando me siento solo",
                    "95 Tu amor por los animalitos",
                    "96 Cuando me dices que te diviertes conmigo",
                    "97 Cuando me das cumplidos",
                    "98 Cuando me cuentas como te fue hoy",
                    "99 Cuando me cuentas lo divertido que pasa en tus d√≠as",
                    "100 Cuando te reposas en mi hombro",
                    "101 Que creas en mi",
                    "102 Que conf√≠as en m√≠",
                    "103 Cuando hacemos llamada",
                    "104 Cuando juegas conmigo un jueguito",
                    "105 Cuando me mencionas en un reel",
                    "106 Cuando me hiciste recibir mi primer te amo",
                    "107 Cuando me hiciste sentir por primera vez amado",
                    "108 Cuando so√±amos que nos casaremos",
                    "109 Cuando disfrutas cuando salimos",
                    "110 La felicidad que me generas al ver tus fotos",
                    "111 El orgullo que me das de decir que eres t√∫ mi novia",
                    "112 Cuando haces que todo contigo es incre√≠ble",
                    "113 Cuando te alegras por m√≠",
                    "114 Cuando me felicitas por lo que alcanzo en the gym",
                    "115 Cuando me causas pensamientos bonitos contigo",
                    "116 Cuando te preocupas por m√≠",
                    "117 Cuando me hiciste hacer mi primera carta a alguien",
                    "118 Como me motivas a ser mejor por ti",
                    "119 Por hacerme pasar mi primer 14 de febrero amado",
                    "120 Que seas como mi sue√±o perfecto",
                    "121 Que seas mi princesa",
                    "122 Que seas mi mujer",
                    "123 Cuando intento ser m√°s creativo por ti",
                    "124 Cuando me diste esa hermosa carta sin necesidad de tener una fecha espec√≠fica",
                    "125 Cuando me haces sentir especial",
                    "126 Cuando me invitaste a tu casita",
                    "127 Que tengamos la oportunidad de aprender juntos",
                    "128 Cuando me dijiste que te causo nervios",
                    "129 Cuando te pienso todos los d√≠as",
                    "130 La creatividad que tienes",
                    "131 Cuando me diste esa manilla que significa tanto para m√≠",
                    "132 Cuando me diste un poster en la feria del libro",
                    "133 Cuando me diste un lego con un mensaje bonito",
                    "134 La primer vez que me dijiste te quiero mucho",
                    "135 Que est√°s conmigo en las buenas y en las malas",
                    "136 Cuando me cuentas que te fue re bien en tus notas",
                    "137 Cuando me mostraste a milu y luna",
                    "138 Cuando me hiciste toda una playlist",
                    "139 Cuando me diste 100 razones para amarme",
                    "140 La primer vez que me abrazaste",
                    "141 Que seas mi ni√±a hermosa",
                    "142 Que seas la persona con la que quiero todo",
                    "143 Que seas esa ni√±a que dar√≠a todo por ti",
                    "144 Que seas lo que siempre quise",
                    "145 Cuando arreglamos nuestros problemas",
                    "146 Cuando superamos todos los obst√°culos",
                    "147 Que nunca te rindas por m√≠",
                    "148 Por todos estos meses junto a ti (ya casi el a√±o jsjsjs)",
                    "149 Que seas mi primera y √∫nica novia",
                    "150 Absolutamente todo de ti es perfecto, los momentos que compartimos, como eres, como me haces sentir simplemente haces que est√© en un sue√±o y t√∫ eres la que lo hace realidad mi vida, nunca ser√°n suficientes las palabras para decir todo lo que te amo y aprecio y realmente estoy tan feliz de que seas t√∫ la persona con la que quiero pasar el resto de mi vida."
                ];
                
                reasons.forEach((reason, index) => {
                    const reasonElement = document.createElement('div');
                    
                    if (index === 149) {
                        reasonElement.classList.add('reason', 'reason-150');
                    } else {
                        reasonElement.classList.add('reason');
                    }
                    
                    const firstSpaceIndex = reason.indexOf(' ');
                    let numberPart = '';
                    let textPart = reason;
                    
                    if (firstSpaceIndex !== -1) {
                        numberPart = reason.substring(0, firstSpaceIndex);
                        textPart = reason.substring(firstSpaceIndex + 1);
                    }
                    
                    if (numberPart && !isNaN(numberPart)) {
                        reasonElement.innerHTML = `<span class="reason-number">${numberPart}</span> ${textPart}`;
                    } else {
                        reasonElement.textContent = reason;
                    }
                    
                    reasonsContainer.appendChild(reasonElement);
                });
            }
            
            envelopeContainer.addEventListener('click', function() {
                envelopeContainer.classList.add('open');
                
                setTimeout(() => {
                    envelopeContainer.classList.add('hidden');
                    header.classList.add('hidden');
                    
                    generateReasons();
                    
                    setTimeout(() => {
                        letterContainer.classList.add('show-letter-container');
                        
                        setTimeout(() => {
                            countdownTitle.classList.add('show-countdown-title');
                            countdown.classList.add('show-countdown');
                        }, 1000);
                        
                        setTimeout(() => {
                            letterContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }, 500);
                    }, 500);
                }, 1000);
                
                createHearts();
                playSound();
                playBackgroundMusic();
            });
            
            function createBackground() {
                const starsCount = 150;
                
                for (let i = 0; i < starsCount; i++) {
                    const star = document.createElement('div');
                    star.classList.add('star');
                    
                    const size = Math.random() * 3;
                    star.style.width = size + 'px';
                    star.style.height = size + 'px';
                    
                    star.style.left = Math.random() * 100 + 'vw';
                    star.style.top = Math.random() * 100 + 'vh';
                    
                    const duration = Math.random() * 5 + 3;
                    star.style.setProperty('--duration', duration + 's');
                    
                    star.style.animationDelay = Math.random() * 5 + 's';
                    
                    background.appendChild(star);
                }
                
                const heartsCount = 15;
                
                for (let i = 0; i < heartsCount; i++) {
                    const heart = document.createElement('div');
                    heart.classList.add('floating-heart');
                    heart.innerHTML = '‚ù§';
                    
                    const size = Math.random() * 30 + 20;
                    heart.style.fontSize = size + 'px';
                    
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = Math.random() * 100 + 'vh';
                    
                    const duration = Math.random() * 10 + 10;
                    heart.style.setProperty('--float-duration', duration + 's');
                    
                    heart.style.animationDelay = Math.random() * 5 + 's';
                    
                    background.appendChild(heart);
                }
            }
            
            function createHearts() {
                const heartCount = 50;
                
                for (let i = 0; i < heartCount; i++) {
                    const heart = document.createElement('div');
                    heart.innerHTML = '‚ù§';
                    heart.classList.add('heart-fall');
                    
                    heart.style.left = Math.random() * 100 + 'vw';
                    
                    heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    
                    const size = Math.random() * 25 + 15;
                    heart.style.fontSize = size + 'px';
                    
                    heartsContainer.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 5000);
                }
            }
            
            function playSound() {
                try {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    const audioCtx = new AudioContext();
                    
                    const oscillator = audioCtx.createOscillator();
                    const gainNode = audioCtx.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioCtx.destination);
                    
                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(440, audioCtx.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(880, audioCtx.currentTime + 0.1);
                    
                    gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2);
                    
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.3);
                } catch (e) {
                    console.log("Error de audio: ", e);
                }
            }
        });
    </script>
</body>
</html>